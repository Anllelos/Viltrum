{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Home Screen" />
    <title>Página Principal</title>
    {% load static %}
    <!-- Font Import -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <link type="text/css" rel="stylesheet" href="{% static 'css/home.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <!-- Slick Carousel CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"
    />
  </head>

  <body>
    <!-- Header -->
    <header>
      <div class="header-container">
        <div class="logo-container">
          <img
            src="{% static 'images/ninjaviltrum.png' %}"
            alt="Logo"
            class="logo"
          />
        </div>
        <nav class="nav-links">
          <a href="#">Inicio</a>
          <a href="#">Explorar</a>
          <a href="#">Suscripciones</a>
          <a href="#">Tienda</a>
          <a href="#">Torneos</a>
          <a href="#">Clasificaciones</a>
          <a href="#">Equipos</a>
        </nav>
        <div class="search-bar">
          <input type="text" placeholder="Buscar" />
          <button type="submit"><i class="fas fa-search"></i></button>
        </div>
        <div class="auth-buttons">
          {% if user.is_authenticated %}
          <div class="dropdown-profile">
            <a
              href="#"
              aria-haspopup="true"
              aria-expanded="false"
              class="user-icon"
              id="userIcon"
            >
              <i class="fa-solid fa-user"></i>
              {{ user }}
            </a>
            <div class="dropdown-content" id="dropdownMenu">
              <a href="{% url 'profile' %}">Perfil</a>
              <a href="{% url 'user_logout' %}">Cerrar sesión</a>
            </div>
          </div>
          {% else %}
          <a href="{% url 'login' %}" class="login-btn">Iniciar Sesión</a>
          <a href="{% url 'register' %}" class="register-btn">Regístrate</a>
          {% endif %}
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Banner Section -->
      <div class="hero-section">
        <div class="banner">
          <h1>Bienvenido a la plataforma de eSports</h1>
          <p>
            Únete a torneos, compite en equipos y escala en las clasificaciones.
          </p>
        </div>
      </div>

      <!-- Sección de Portadas de Videojuegos -->
      <div class="game-covers-section">
        <h2>Explorar Juegos</h2>
        <div class="game-cover-carousel">
          {% for juego in videojuegos %}
          <div class="game-cover-card">
            <img src="{{ juego.portada.url }}" alt="{{ juego.nombre }}" />
            <p>{{ juego.nombre }}</p>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- Otras secciones existentes -->
      <div class="content-section">
        <h2>Streamings Destacados</h2>
        <div class="streaming-grid">
          <div class="streaming-card">Stream 1</div>
          <div class="streaming-card">Stream 2</div>
          <div class="streaming-card">Stream 3</div>
          <div class="streaming-card">Stream 4</div>
        </div>
      </div>
      <div class="tournaments-section">
        <h2>Torneos Activos</h2>
        <div class="tournament-grid">
          <div class="tournament-card">Torneo 1</div>
          <div class="tournament-card">Torneo 2</div>
          <div class="tournament-card">Torneo 3</div>
          <div class="tournament-card">Torneo 4</div>
        </div>
      </div>
      <div class="leaderboards-section">
        <h2>Clasificaciones</h2>
        <div class="leaderboard-grid">
          <div class="leaderboard-card">Clasificación 1</div>
          <div class="leaderboard-card">Clasificación 2</div>
          <div class="leaderboard-card">Clasificación 3</div>
          <div class="leaderboard-card">Clasificación 4</div>
        </div>
      </div>
      <div class="teams-section">
        <h2>Equipos Populares</h2>
        <div class="team-grid">
          <div class="team-card">Equipo 1</div>
          <div class="team-card">Equipo 2</div>
          <div class="team-card">Equipo 3</div>
          <div class="team-card">Equipo 4</div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <div class="footer-container">
        <div class="footer-links">
          <a href="#">Acerca de</a>
          <a href="#">Contacto</a>
          <a href="#">Privacidad</a>
          <a href="#">Términos</a>
          <a href="#">Ayuda</a>
        </div>
        <div class="footer-social">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </footer>

    <!-- Slick Carousel JS -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"
    ></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $(".game-cover-carousel").slick({
          slidesToShow: 4,
          slidesToScroll: 1,
          autoplay: true,
          autoplaySpeed: 2000,
          dots: true,
          arrows: true,
          responsive: [
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 3,
                slidesToScroll: 1,
              },
            },
            {
              breakpoint: 768,
              settings: {
                slidesToShow: 2,
                slidesToScroll: 1,
              },
            },
            {
              breakpoint: 480,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1,
              },
            },
          ],
        });
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var userIcon = document.getElementById("userIcon");
        var dropdownMenu = document.getElementById("dropdownMenu");

        userIcon.addEventListener("click", function (event) {
          event.preventDefault();
          dropdownMenu.style.display =
            dropdownMenu.style.display === "block" ? "none" : "block";
        });

        document.addEventListener("click", function (event) {
          if (
            !userIcon.contains(event.target) &&
            !dropdownMenu.contains(event.target)
          ) {
            dropdownMenu.style.display = "none";
          }
        });
      });
    </script>
  </body>
</html>
