{% extends 'template.html' %}
{% load static %}

{% block title %}Explore Games{% endblock %}

<!-- Link to the CSS file for the explore page -->
<link rel="stylesheet" href="{% static 'explore/explore.css' %}">

{% block content %}
<div class="explore-wrapper">

    <!-- Filters and Sort -->
    <div class="explore-filters">
        <form method="GET">
            <label for="category">Category:</label>
            <select name="category" id="category">
                <option value="">All Categories</option>
                <option value="Action" {% if selected_category == "Action" %}selected{% endif %}>Action</option>
                <option value="Adventure" {% if selected_category == "Adventure" %}selected{% endif %}>Adventure</option>
                <option value="Shooter" {% if selected_category == "Shooter" %}selected{% endif %}>Shooter</option>
                <option value="Sports" {% if selected_category == "Sports" %}selected{% endif %}>Sports</option>
            </select>

            <label for="sort_by">Sort By:</label>
            <select name="sort_by" id="sort_by">
                <option value="popularity" {% if sort_by == "popularity" %}selected{% endif %}>Popularity</option>
                <option value="release_date" {% if sort_by == "release_date" %}selected{% endif %}>Release Date</option>
            </select>

            <button type="submit" class="filter-button">Apply</button>
        </form>
    </div>

    <!-- Games Grid -->
    <div class="games-grid">
        {% for game in games %}
        <div class="game-card">
            <img src="{{ game.cover_image.url }}" alt="{{ game.title }}" class="game-cover">
            <h3>{{ game.title }}</h3>
            <p>{{ game.description|truncatewords:10 }}</p>
            <span class="game-category">{{ game.category }}</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
