{% extends 'template.html' %}

{% load static %}

{% block title %}
    Explorar Juegos
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'explore/style.css' %}">
{% endblock %}

{% block content %}
<div class="explore-container">

    <!-- Barra de Categorías -->
    <div class="category-bar">
        <button class="category-button">Juegos</button>
        <button class="category-button">IRL</button>
        <button class="category-button">Música y DJ</button>
        <button class="category-button">Creative</button>
        <button class="category-button">Esports</button>
    </div>

    <!-- Búsqueda y Subir Juego -->
    <div class="top-options">
        <div class="category-search">
            <input type="text" placeholder="Buscar etiquetas de categoría">
        </div>
        <button class="upload-button" id="addGameButton">Subir Nuevo Juego</button>
    </div>

    <!-- Título y Opciones de Orden -->
    <div class="header-section">
        <h1>Explorar Juegos</h1>
        <div class="sort-options">
            <label for="sort-by">Ordenar por</label>
            <select id="sort-by">
                <option>Recomendaciones para ti</option>
                <option>Más populares</option>
                <option>Nuevos</option>
            </select>
        </div>
    </div>

    <!-- Cuadrícula de Juegos -->
    <div class="game-grid">
        {% for game in games %}
        <div class="game-card">
            <div class="game-image">
                <img src="{{ game.image.url }}" alt="{{ game.name }}">
            </div>
            <div class="game-info">
                <p class="game-name">{{ game.name }}</p>
                <p class="game-category">{{ game.category }}</p>
                <p class="game-description">{{ game.description|truncatewords:10 }}</p>
            </div>
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}

{% block extra_js %}
<script>
    document.getElementById('addGameButton').addEventListener('click', function(){
        window.location.href = "{% url 'upload_game' %}"
    });
</script>
{% endblock %}
